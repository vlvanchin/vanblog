<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>K8s &middot; </title>
        <meta name="description" content="This page show some of the most used commands in Kubernetes">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.101.0" />
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="K8s">
<meta property="og:description" content="This page show some of the most used commands in Kubernetes">
<meta property="og:type" content="article">
<meta property="og:url" content="/vanblog/k8stips/">
        <link rel="stylesheet" href="/vanblog/dist/site.css">
        <link rel="stylesheet" href="/vanblog/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a title="Van&#39;s Blog" href="/vanblog/">Van&#39;s Blog</a>
                            </h1>
                        
                        <a class="button-square" href="/vanblog/index.xml"><i class="fa fa-rss"></i></a>
                        
                            <a class="button-square button-social hint--top" data-hint="Twitter" title="Twitter" href="https://twitter.com/vlvanchin" rel="me">
                                <i class="fa fa-twitter"></i>
                            </a>
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" title="Github" href="https://github.com/vlvanchin" rel="me">
                                <i class="fa fa-github-alt"></i>
                            </a>
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" title="Email" href="mailto:vlvanchin@gmail.com">
                                <i class="fa fa-envelope"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a title="AWS s3" href="/vanblog/aws-s3/">AWS s3</a>
    </li>

    <li class="site-nav-item">
        <a title="Contact" href="/vanblog/page/contact/">Contact</a>
    </li>

    <li class="site-nav-item">
        <a title="Docker" href="/vanblog/dockertips/">Docker</a>
    </li>

    <li class="site-nav-item">
        <a title="docker compose" href="/vanblog/compose/">docker compose</a>
    </li>

    <li class="site-nav-item">
        <a title="docker machine" href="/vanblog/dockermachine/">docker machine</a>
    </li>

    <li class="site-nav-item">
        <a title="Docker Swarm" href="/vanblog/dockerswarmtips/">Docker Swarm</a>
    </li>

    <li class="site-nav-item">
        <a title="FAQs" href="/vanblog/faq/">FAQs</a>
    </li>

    <li class="site-nav-item">
        <a title="GIT" href="/vanblog/gittips/">GIT</a>
    </li>

    <li class="site-nav-item">
        <a title="Java" href="/vanblog/javatips/">Java</a>
    </li>

    <li class="site-nav-item">
        <a title="K8s" href="/vanblog/k8stips/">K8s</a>
    </li>

    <li class="site-nav-item">
        <a title="Linux" href="/vanblog/shelltips/">Linux</a>
    </li>

    <li class="site-nav-item">
        <a title="Maven" href="/vanblog/maven/">Maven</a>
    </li>

    <li class="site-nav-item">
        <a title="Mongo" href="/vanblog/mongod/">Mongo</a>
    </li>

    <li class="site-nav-item">
        <a title="Screen cmd" href="/vanblog/screen/">Screen cmd</a>
    </li>

    <li class="site-nav-item">
        <a title="SSH" href="/vanblog/ssh/">SSH</a>
    </li>

    <li class="site-nav-item">
        <a title="Webservice" href="/vanblog/webservicetips/">Webservice</a>
    </li>

                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">K8s</h1>
    
        <p class="post-description" itemprop="description">This page show some of the most used commands in Kubernetes</p>
    
    <p class="post-date post-line">
        <span>Published <time datetime="2020-06-02" itemprop="datePublished">Tue, Jun 2, 2020</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author">van</a>
            </span>
        </span>
    </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <h2 id="kubernetes-tips">Kubernetes Tips:</h2>
<p>Selfhelp page to test and learn about Kubernetes.</p>
<h1 id="install-kubectl-that-cli-to-access-and-control-cluster">Install <em>kubectl</em> that CLI to access and control cluster.</h1>
<ul>
<li>On Ubuntu</li>
</ul>
<pre tabindex="0"><code> $ sudo snap install kubectl --classic
</code></pre><h2 id="to-test-kubectl-try-the-following">To test <em>kubectl</em> try the following</h2>
<pre tabindex="0"><code> $ kubectl version
</code></pre><p>the output would be as follows:</p>
<pre tabindex="0"><code>Client Version: version.Info{Major:&#34;1&#34;, Minor:&#34;11&#34;, GitVersion:&#34;v1.11.0&#34;, GitCommit:&#34;91e7b4fd3c980becec37ceefe&#34;, GitTreeState:&#34;clean&#34;, BuildDate:&#34;2018-06-27T20:17:28Z&#34;, GoVersion:&#34;go1.10.2&#34;, Compiler:&#34;gc&#34;, Platform:&#34;linux/amd64&#34;}
The connection to the server localhost:8080 was refused - did you specify the right host or port?
</code></pre><p>If your output is like above then it means that there is no cluster up and running. To fix this problem., install MiniKube. Please follow the next steps</p>
<h1 id="install-minikube-in-ubuntu">Install <em>MiniKube</em> in Ubuntu</h1>
<ul>
<li>
<p>Please refer to the link below for more information on MiniKube
<a href="https://github.com/kubernetes/minikube">https://github.com/kubernetes/minikube</a></p>
</li>
<li>
<p>to get the latest of the MiniKube binary</p>
</li>
</ul>
<pre tabindex="0"><code>curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
</code></pre><ul>
<li>to put minikube as executable</li>
</ul>
<pre tabindex="0"><code>$ chmod +x minikube
</code></pre><ul>
<li>to put <em>minikube</em> in your path</li>
</ul>
<pre tabindex="0"><code>$ sudo mv minikube /usr/local/bin/
</code></pre><h1 id="is-minikube-installed">Is MiniKube installed?</h1>
<ul>
<li>To test if minikube is install and running</li>
</ul>
<pre tabindex="0"><code>$ minikube Version
</code></pre><ul>
<li>Still you would not be able to have the <em>kubectl version</em> working, as the cluster is not up yet.</li>
</ul>
<h1 id="how-to-start-minikube-cluster">How to start Minikube cluster?</h1>
<ul>
<li>To start a cluster through the <em>minikube</em> we need to have KVM or VM installed. But if we want to run the cluster without any vm-driver for testing purpose, we can do as follows.</li>
</ul>
<pre tabindex="0"><code>$ minikube start --vm-driver=none
</code></pre><p>&ndash; if the above command throws any permission error then try the above code in <em>sudo</em></p>
<pre tabindex="0"><code>WARNING: IT IS RECOMMENDED NOT TO RUN THE NONE DRIVER ON PERSONAL WORKSTATIONS
	The &#39;none&#39; driver will run an insecure kubernetes apiserver as root that may leave the host vulnerable to CSRF attacks

When using the none driver, the kubectl config and credentials generated will be root owned and will appear in the root home directory.
You will need to move the files to the appropriate location and then set the correct permissions.  An example of this is below:

	sudo mv /root/.kube $HOME/.kube # this will write over any previous configuration
	sudo chown -R $USER $HOME/.kube
	sudo chgrp -R $USER $HOME/.kube

	sudo mv /root/.minikube $HOME/.minikube # this will write over any previous configuration
	sudo chown -R $USER $HOME/.minikube
	sudo chgrp -R $USER $HOME/.minikube

This can also be done automatically by setting the env var CHANGE_MINIKUBE_NONE_USER=true
</code></pre><ul>
<li>Now run the following <em>kubectl version</em>, it will get the clint and server configuration.</li>
</ul>
<pre tabindex="0"><code>Client Version: version.Info{Major:&#34;1&#34;, Minor:&#34;11&#34;, GitVersion:&#34;v1.11.0&#34;, GitCommit:&#34;91e7b4fd31fcd3dcec37ceefe&#34;, GitTreeState:&#34;clean&#34;, BuildDate:&#34;2018-06-27T20:17:28Z&#34;, GoVersion:&#34;go1.10.2&#34;, Compiler:&#34;gc&#34;, Platform:&#34;linux/amd64&#34;}
Server Version: version.Info{Major:&#34;1&#34;, Minor:&#34;10&#34;, GitVersion:&#34;v1.10.0&#34;, GitCommit:&#34;fc32d2f3698e36e9f0eaead&#34;, GitTreeState:&#34;clean&#34;, BuildDate:&#34;2018-03-26T16:44:10Z&#34;, GoVersion:&#34;go1.9.3&#34;, Compiler:&#34;gc&#34;, Platform:&#34;linux/amd64&#34;}
</code></pre><h1 id="how-to-stop-the-cluster">How to stop the cluster?</h1>
<ul>
<li>Run the following command</li>
</ul>
<pre tabindex="0"><code>$ sudo minikube stop
</code></pre>
</div>

        <footer class="post-footer clearfix">
    
        <p class="post-tags">
            <span>Tagged:</span>
            
            
                <a href="/tags/k8s/">k8s</a>, 
            
                <a href="/tags/development/">development</a>
            
        </p>
    

    <div class="share">
        
            <a class="icon-twitter" href="https://twitter.com/share?text=K8s&url=%2fvanblog%2fk8stips%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
        

        
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=%2fvanblog%2fk8stips%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
            </a>
        

        
            <a class="icon-google-plus" href="https://plus.google.com/share?url=%2fvanblog%2fk8stips%2f"
              onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
              <i class="fa fa-google-plus"></i>
                <span class="hidden">Google+</span>
            </a>
        
        
    </div>
</footer>

        
    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a title="Van&#39;s Blog" href="/vanblog/">Van&#39;s Blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#">
                        <i class="fa fa-angle-up"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2021 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="/vanblog/js/jquery-1.11.3.min.js"></script>
        <script src="/vanblog/js/jquery.fitvids.js"></script>
        <script src="/vanblog/js/scripts.js"></script>
    </body>
</html>

